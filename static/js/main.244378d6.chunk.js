(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{264:function(t,e,n){},272:function(t,e){},273:function(t,e){},281:function(t,e){},291:function(t,e){},292:function(t,e){},293:function(t,e){},294:function(t,e){},302:function(t,e){},304:function(t,e,n){"use strict";n.r(e);var a=n(112),i=n.n(a),c=n(236),s=n.n(c),r=(n(264),n(4)),o=n.n(r),u=n(11),d=n(6),l=n(10),p=n(41),h=n(14),f=n(15),b=(n.p,n(266),n(90)),j=n(53),v=function(t){Object(h.a)(n,t);var e=Object(f.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).state={imguploaded:!1,picurl:void 0,tensor:void 0,model:void 0,predictarray:void 0,actmap:void 0,test:void 0,test2:void 0,test3:void 0},t.loadPic=t.loadPic.bind(Object(p.a)(t)),t.getTensor=t.getTensor.bind(Object(p.a)(t)),t.loadModel=t.loadModel.bind(Object(p.a)(t)),t.predict=t.predict.bind(Object(p.a)(t)),t.activationMap=t.activationMap.bind(Object(p.a)(t)),t.test=t.test.bind(Object(p.a)(t)),t}return Object(l.a)(n,[{key:"loadModel",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e,n,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.getElementById("jsonuploads").files,n=document.getElementById("sharduploads").files,a=Array.from(e).concat(Array.from(n)),console.log(a),t.next=6,b.d(b.c.browserFiles(a));case 6:i=t.sent,this.setState({model:i}),console.log(i.summary());case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"loadPic",value:function(){console.log("loading"),this.setState({picurl:URL.createObjectURL(document.getElementById("picuploads").files[0])}),console.log(this.state),this.setState({imguploaded:!0})}},{key:"getTensor",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=b.a.fromPixels(document.getElementById("pic")).resizeBilinear([64,64]),n=b.g([.2989,.587,.114]),e=b.f(e.mul(n),2).expandDims(-1).expandDims(0),this.setState({tensor:e}),t.next=6,e.array();case 6:a=t.sent,console.log(a[0]);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"predict",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.model,n=e.predict(this.state.tensor),t.next=4,n.array();case 4:a=t.sent,this.setState({predictarray:a}),console.log(a);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"scorecam",value:function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.model;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"activationMap",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.model,t.next=3,b.e({inputs:e.input,outputs:e.getLayer("add_5").output}).predict(this.state.tensor);case 3:n=t.sent,a=b.b.resizeBilinear(n,[64,64]),this.setState({actmap:a});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"test",value:function(){var t=this.state.model;try{b.a.toPixels(this.state.actmap.squeeze().gather([0],2).cast("int32"),document.getElementById("aCanvas"))}catch(e){console.log(e)}try{this.state.actmap.squeeze().gather([0],2),this.setState({test2:t.input})}catch(e){console.log(e)}try{this.setState({test3:t.getLayer("add_5")})}catch(e){console.log(e)}}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"dev",children:Object(j.jsxs)("div",{children:[this.state.imguploaded?Object(j.jsx)("img",{src:this.state.picurl,id:"pic"}):null,Object(j.jsx)("input",{type:"file",id:"jsonuploads",title:"your text",webkitdirectory:"",directory:""}),Object(j.jsx)("input",{type:"file",id:"sharduploads",title:"your text",webkitdirectory:"",directory:""}),Object(j.jsx)("input",{type:"file",id:"picuploads",title:"your text"}),Object(j.jsx)("button",{onClick:this.loadModel,children:"loadModel"}),Object(j.jsx)("button",{onClick:this.loadPic,children:"loadPic"}),Object(j.jsx)("button",{onClick:this.getTensor,children:"getTensor"}),Object(j.jsx)("button",{onClick:this.predict,children:"predict"}),Object(j.jsx)("button",{onClick:this.activationMap,children:"actMap"}),Object(j.jsx)("button",{onClick:this.test,children:"test"}),void 0!=this.state.predictarray?Object(j.jsx)("h1",{children:this.state.predictarray}):null,Object(j.jsx)("canvas",{id:"aCanvas",width:"200",height:"100"})]})})}}]),n}(a.Component),y=v,m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,305)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),a(t),i(t),c(t),s(t)}))};s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),m()}},[[304,1,2]]]);
//# sourceMappingURL=main.244378d6.chunk.js.map